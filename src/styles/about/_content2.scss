@use './../utils/' as *;

#content2 {
    font-family: Pretendard;
    width: 100%;
    margin: auto;
    text-align: center;
    background-color: #fff;
    padding: 180px 260px;
    display: flex;
    flex-direction: column;
    gap: 100px;

    .slogan {
        position: relative;
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 254px;
        justify-content: center;
        align-items: center;
        img {
            z-index: 1;
            width: 405px;
            height: 254px;
        }
        span {
            color: var(--Grey-grey-500, #616161);
            text-align: center;
            font-family: Paperlogy;
            font-size: 18px;
            font-style: normal;
            font-weight: 600;
            line-height: normal;
            letter-spacing: 1.44px;
            z-index: 2;
            position: absolute;
            left: 50%;
            top: 122px;
            transform: translateX(-50%);
        }
        h3 {
            position: absolute;
            color: var(--Green-green-700, #8bbab7);
            text-align: center;
            font-family: Paperlogy;
            font-size: 40px;
            font-style: normal;
            font-weight: 700;
            line-height: normal;
            height: 59px;
            letter-spacing: 0.4px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-self: stretch;
            z-index: 2;
            left: 50%;
            bottom: 52px;
            transform: translateX(-50%);
        }
    }

    .texttitle {
        list-style: none;
        margin: 0;
        padding: 0;

        li.textline {
            /* =============== 기본 타이포 =============== */
            font-size: 22px;
            font-weight: 300;
            line-height: 1.7;
            // margin: 0 0 1.2rem;
            position: relative;
            overflow: hidden;
            white-space: normal; // ← NBSP 보존 + 일반 줄바꿈 동작

            /* =============== 애니메이션 튜닝 변수 =============== */
            --stagger: 100ms; /* 단어 간 지연(속도) */
            --dur: 0.6s; /* 각 단어 재생시간 */
            --rise: 0.5em; /* 아래서 올라오는 높이 */
            --blur: 2px; /* 시작 블러 양 */
            --gradDur: 900ms; /* (옵션) 그라데이션 슬라이드 시간 */

            /* 네가 쓰던 백그라운드 슬라이드 유지 */
            background-size: 200% 100%;
            background-position: 100% 0; /* 시작은 회색(오른쪽 절반) */
            transition: background-position var(--gradDur) ease;
            color: var(--Grey-grey-800, #353535);
            text-align: center;
            /* Regular/24px */
            font-family: Pretendard;
            font-size: 24px;
            font-style: normal;
            font-weight: 400;
            line-height: 146%; /* 33.6px */

            /* 단어 span 기본 상태 */
            .word {
                display: inline-block; // ← 애니메이션용
                opacity: 0;
                transform: translateY(var(--rise));
                filter: blur(var(--blur));
                will-change: transform, opacity, filter;
                // (선택) 공백이 단어 뒤에 붙는 스타일로 보여야 하면 여기에 margin-right로 간격 제어 가능
                // margin-right: .1em;
            }

            /* 뷰포트 진입 시 발동 (JS에서 .is-in 붙임) */
            &.is-in {
                background-position: 0 0; /* (옵션) 그라데이션이 왼→오 스윕 */

                .word {
                    animation: text-fadeup var(--dur) ease forwards;
                    animation-delay: calc(var(--i) * var(--stagger));
                }
            }
        }
    }

    /* 단어가 아래서 올라오며 페이드 + 블러 해제 */
    @keyframes text-fadeup {
        to {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
        }
    }

    .dogicon {
        display: flex;
        justify-content: center;
        padding-bottom: 150px;

        span {
            img {
                margin-right: 1.0417vw;
                width: 60px;
            }
            &:last-child img {
                margin-right: 0;
            }
        }
    }

    /* 사용자 접근성: 모션 줄이기 */
    @media (prefers-reduced-motion: reduce) {
        .texttitle .textline {
            --stagger: 0ms;
            --dur: 1ms;
            --rise: 0;
            --blur: 0;
            transition: none;

            .word {
                animation: none !important;
                opacity: 1;
                transform: none;
                filter: none;
            }
        }
    }
}

/* (옵션) 그라데이션 텍스트 사용 시 */
.texttitle .textline.use-gradient {
    background-image: linear-gradient(90deg, #8bbab7 0%, #8bbab7 50%, #efefef 50%, #efefef 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

@media (max-width: 640px) {
    #content2 {
        /* 390 디자인 기준 스케일러 */
        --m: calc(100vw / 390);

        width: 100vw;
        max-width: 390px;
        min-height: calc(var(--m) * 844);
        margin-inline: auto;
        box-sizing: border-box;

        /* 데스크톱 값 → 모바일 스케일 */
        padding: calc(var(--m) * 24) calc(var(--m) * 20);
        gap: calc(var(--m) * 32);

        display: flex;
        flex-direction: column;
        text-align: center;
        background-color: #fff;
    }

    #content2 .slogan {
        height: calc(var(--m) * 220);
        justify-content: center;
        align-items: center;
        position: relative;
    }

    #content2 .slogan img {
        width: calc(var(--m) * 320);
        height: auto;
        width: 242px;
    }

    #content2 .slogan span {
        font-size: 13px;
        letter-spacing: calc(var(--m) * 1.2);
        left: 50%;
        top: calc(var(--m) * 98);
        transform: translateX(-50%);
    }

    #content2 .slogan h3 {
        font-size: 26px;
        letter-spacing: calc(var(--m) * 0.3);
        left: 50%;
        bottom: calc(var(--m) * 60);
        transform: translateX(-50%);
        height: auto;
    }

    #content2 .texttitle {
        padding: 0 calc(var(--m) * 8);
    }

    #content2 .texttitle .textline {
        line-height: 1.6;
        margin: 0 0 calc(var(--m) * 16);
        font-size: 13px !important;

        /* 모바일에서도 자연스럽게 */
        --stagger: 90ms;
        --dur: 0.6s;
        --rise: 0.5em;
        --blur: 2px;
        --gradDur: 800ms;

        background-size: 200% 100%;
        background-position: 100% 0;
    }

    #content2 .texttitle .textline .word {
        display: inline-block;
    }

    #content2 .texttitle .textline.is-in {
        background-position: 0 0;
    }

    #content2 .dogicon {
        padding-bottom: calc(var(--m) * 60);
        gap: calc(var(--m) * 8);
    }

    #content2 .dogicon span img {
        width: calc(var(--m) * 40);
        height: auto;
        margin-right: calc(var(--m) * 8);
    }

    #content2 .dogicon span:last-child img {
        margin-right: 0;
    }
}
